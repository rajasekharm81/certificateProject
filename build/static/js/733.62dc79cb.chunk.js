"use strict";(self.webpackChunkodrequest=self.webpackChunkodrequest||[]).push([[733],{5627:function(e,t,n){var s=n(5671),r=n(3144),o=n(136),a=n(7277),i=n(2791),l=n(5112),d=n(6580),c=n(184),g=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"render",value:function(){var e=this.props.isLoading;return(0,c.jsx)(l.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:e,children:(0,c.jsx)(d.Z,{color:"inherit"})})}}]),n}(i.Component);t.Z=g},3733:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var s=n(4165),r=n(5861),o=n(5671),a=n(3144),i=n(136),l=n(7277),d=n(2791),c=n(7689),g=n(7205),u=n(6015),p=n(5017),h=n(1898),f=n(508),x=n(4420),w=n(8254),v=n(3811),m=n(1647),Z=n(1508),j=n(5627),k=n(8820),S=n(8329),b=n(8422),y=n(2388),E=n(184),C=function(e){(0,i.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={enrollNo:"",mobile:"",password:"",isLoading:!1,backErr:!1,backErrMsg:"",passwordVisable:!1,validUser:!1,signUp:!1,forgotPassword:!1,isEmployee:!1},e.componentDidMount=function(){e.isUserLogedIn()},e.isUserLogedIn=function(){void 0===S.Z.get("authToken")?e.setState({validUser:!1}):e.setState({validUser:!0})},e.verifyUser=(0,r.Z)((0,s.Z)().mark((function t(){var n,r,o,a,i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.enrollNo,o=n.password,e.setState({isLoading:!0}),t.prev=2,a={url:"".concat("https://20.235.87.10/capis/","account/login/"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{enrollment:r,password:o}},t.next=6,(0,y.Z)(a);case 6:"OK"===(i=t.sent).statusText&&(S.Z.set("authToken",i.data.auth_token,{expires:1}),e.setState({isLoading:!1,validUser:!0})),console.log(i),t.next=17;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0),"Network Error"===t.t0.message&&e.setState({isLoading:!1,backErr:!0,backErrMsg:"Something went wrong Please try again"}),500===t.t0.response.status&&e.setState({isLoading:!1,backErr:!0,backErrMsg:"Unregistered user... Please sign up"}),403===t.t0.response.status?e.setState({isLoading:!1,backErr:!0,backErrMsg:"Incorrect Password... Please try again"}):e.setState({isLoading:!1,backErr:!0,backErrMsg:"Something went wrong Please try again"});case 17:case"end":return t.stop()}}),t,null,[[2,11]])}))),e.onLogin=function(){var t=e.state,n=t.enrollNo,s=t.password;""===n&&e.setState({enrollNoErr:!0}),""!==n&&e.setState({enrollNoErr:!1}),""===s&&e.setState({passwordErr:!0}),""!==s&&e.setState({passwordErr:!1}),""!==n&&""!==s&&e.verifyUser()},e.toggleForgotpassword=function(){e.setState({forgotPassword:!0})},e.role=function(){e.setState({isEmployee:!0})},e.signInView=function(){var t=e.state,n=t.enrollNo,s=t.enrollNoErr,r=t.password,o=t.passwordErr,a=t.passwordVisable,i=t.forgotPassword,l=t.isEmployee;return(0,E.jsxs)(E.Fragment,{children:[i?(0,E.jsx)(c.Fg,{to:"/student/forgotPassword"}):null,l?(0,E.jsx)(c.Fg,{to:"/employeelogin"}):null,(0,E.jsxs)("div",{className:"AuthPageSignin",children:[(0,E.jsx)("img",{className:"authLogo",alt:"Logo",src:b}),(0,E.jsx)(g.Z,{variant:"contained",style:{position:"absolute",right:"10px",top:"10px",fontSize:"18px",fontWeight:"bold"},onClick:e.role,children:"Employee Login"}),(0,E.jsxs)(u.Z,{className:"AuthpageSigninForm",children:[(0,E.jsx)("h1",{children:"Student Log in"}),(0,E.jsx)(p.Z,{required:!0,id:"student-login-enrollNo",label:"Enrollment Number",style:{margin:"30px 0 0 0"},onChange:function(t){return e.setState({enrollNo:t.target.value.toUpperCase()})},value:n,error:s,autofill:"false",fullWidth:!0}),(0,E.jsxs)(h.Z,{style:{margin:"30px 0 0 0"},variant:"outlined",children:[(0,E.jsx)(f.Z,{htmlFor:"outlined-adornment-password",children:"Password"}),(0,E.jsx)(x.Z,{id:"outlined-adornment-password",value:r,error:o,type:a?"text":"password",onChange:function(t){return e.setState({password:t.target.value})},endAdornment:(0,E.jsx)(w.Z,{position:"end",children:(0,E.jsx)(v.Z,{"aria-label":"toggle password visibility",onClick:function(){e.setState((function(e){return{passwordVisable:!e.passwordVisable}}))},edge:"end",children:a?(0,E.jsx)(k.w8I,{style:{fontSize:"28px"}}):(0,E.jsx)(k.p3W,{style:{fontSize:"28px"}})})}),label:"Password"})]}),(0,E.jsxs)("div",{className:"authPageBtnContainer",children:[(0,E.jsx)(g.Z,{size:"small",variant:"contained",onClick:e.onLogin,style:{width:"30%",marginTop:"20px"},children:"Login"}),(0,E.jsx)(g.Z,{size:"small",variant:"contained",onClick:e.toggleForgotpassword,style:{width:"30%",marginTop:"20px"},children:"Forgot Password"})]}),(0,E.jsx)(g.Z,{onClick:function(){return e.setState({signUp:!0})},style:{alignSelf:"flex-end"},children:"Not Registered??? Sign Up"})]})]})]})},e.handleClose=function(){e.setState({backErr:!1})},e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.backErr,s=e.backErrMsg,r=e.signUp,o=e.validUser;return(0,E.jsxs)(E.Fragment,{children:[this.signInView(),(0,E.jsx)(j.Z,{isLoading:t}),(0,E.jsx)(m.Z,{open:n,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,E.jsx)(Z.Z,{onClose:this.handleClose,severity:"error",sx:{width:"100%"},children:s})}),r?(0,E.jsx)(c.Fg,{to:"/student/signup"}):null,o?(0,E.jsx)(c.Fg,{to:"/"}):null]})}}]),n}(d.Component),L=C},8422:function(e,t,n){e.exports=n.p+"static/media/logopng.18cff690cf784ed137b4.png"}}]);
//# sourceMappingURL=733.62dc79cb.chunk.js.map