(self.webpackChunkodrequest=self.webpackChunkodrequest||[]).push([[516],{8516:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(4165),a=n(5861),o=n(5671),s=n(3144),i=n(136),c=n(7277),u=n(2791),l=n(7689),d=n(6015),p=n(5017),f=n(7205),m=n(1647),h=n(1508),g=n(4360),v=n(7012),y=n(1677),b=n(8422),x=n(4056),w=n(5627),j=n(2388),O=n(184),S=(0,g.Z)({palette:{regTextField:{main:"#1173ef",contrastText:"#fff"},success:{main:"#11cb5f",contrastText:"#ffffff"},reset:{main:"#FFE6CC",contrastText:"#D46300"}}}),P=function(e){(0,i.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var s=arguments.length,i=new Array(s),c=0;c<s;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={enrollmentNo:"",password:"",confirmPassword:"",enrollmentNoErr:!1,passwordErr:!1,confirmPasswordErr:!1,passwordMatched:!0,allDataEntered:!1,otpSent:!1,otpVerifiedSuccessfully:!1,backErr:!1,backErrMsg:"",severity:"",isLoading:!1,alreadyRegistered:!1},e.navigateToSignIn=function(){setTimeout((function(){e.setState({otpVerifiedSuccessfully:!0})}),3e3)},e.reset=function(){e.setState({enrollmentNo:"",password:"",confirmPassword:"",enrollmentNoErr:!1,passwordErr:!1,confirmPasswordErr:!1})},e.callForOtp=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,o,s,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,a=n.password,o=n.enrollmentNo,t.prev=1,s={url:"".concat("https://20.235.87.10/capis/","account/reset-password/"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{enrollment:o,new_password:a,confirm_new_password:a}},t.next=5,(0,j.Z)(s);case 5:i=t.sent,console.log(i),e.setState({otpSent:!0,isLoading:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),500===t.t0.response.status?e.setState({isLoading:!1,backErr:!0,backErrMsg:"Unregistered user... Please sign up"}):e.setState({backErr:!0,backErrMsg:"".concat(t.t0.message,"...Please try again"),isLoading:!1,severity:"error"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])}))),e.onSubmit=function(){var t=e.state,n=t.enrollmentNo,r=t.password,a=t.confirmPassword;e.setState({isLoading:!0}),""===n&&e.setState({enrollmentNoErr:!0}),""!==n&&e.setState({enrollmentNoErr:!1}),""===r&&e.setState({passwordErr:!0}),""!==r&&e.setState({passwordErr:!1}),""===a&&e.setState({confirmPasswordErr:!0}),""!==a&&e.setState({confirmPasswordErr:!1}),r===a&&e.setState({passwordMatched:!0}),r!==a&&e.setState({passwordMatched:!1}),""!==n&&r===a&&""!==r&&""!==a?e.setState({allDataEntered:!0},e.callForOtp):e.setState({isLoading:!1})},e.passwordResetForm=function(){var t=e.state,n=t.enrollmentNo,r=t.enrollmentNoErr,a=t.password,o=t.confirmPassword,s=t.passwordErr,i=t.confirmPasswordErr,c=t.passwordMatched;return(0,O.jsxs)(d.Z,{className:"registrationForm",children:[(0,O.jsx)("h1",{style:{padding:"10px"},children:"Reset Password"}),(0,O.jsx)(p.Z,{required:!0,size:"small",id:"reg-father-enroll",label:"Enrollment Number",style:{margin:"10px",width:"90%"},onChange:function(t){return e.setState({enrollmentNo:t.target.value.toUpperCase()})},value:n,error:r}),(0,O.jsx)(p.Z,{required:!0,size:"small",id:"reg-student-password",label:"New Password",style:{margin:"10px",width:"90%"},value:a,onChange:function(t){return e.setState({password:t.target.value})},error:s}),(0,O.jsx)(p.Z,{required:!0,size:"small",id:"reg-student-ConfirmPassword",label:"Confirm Password",style:{margin:"10px",width:"90%"},value:o,onChange:function(t){return e.setState({confirmPassword:t.target.value})},error:i}),c?null:(0,O.jsx)("p",{children:"Passwords not Matched"}),(0,O.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,O.jsx)(f.Z,{onClick:e.reset,variant:"contained",color:"reset",children:"Reset"}),(0,O.jsx)(f.Z,{onClick:e.onSubmit,variant:"contained",color:"success",children:"Update Password"})]}),(0,O.jsx)(f.Z,{onClick:function(){return e.setState({alreadyRegistered:!0})},children:"Click me to signin page"})]})},e.verifyotp=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.state.enrollmentNo,o={url:"".concat("https://20.235.87.10/capis/","account/verify-reset-password/"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{enrollment:a,otp:n}},t.next=5,(0,j.Z)(o);case 5:200===t.sent.status&&e.setState({backErr:!0,backErrMsg:"Password Changed Successfully. Please login to Continue",severity:"success"},e.navigateToSignIn),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),403===t.t0.response.request.status?e.setState({backErr:!0,backErrMsg:t.t0.response.data.detail.toUpperCase(),severity:"error"}):e.setState({backErr:!0,backErrMsg:t.t0.msg});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleClose=function(){e.setState({backErr:!1})},e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.state,t=e.otpSent,n=e.otpVerifiedSuccessfully,r=e.backErr,a=e.backErrMsg,o=e.severity,s=e.isLoading,i=e.alreadyRegistered;return(0,O.jsxs)(O.Fragment,{children:[i?(0,O.jsx)(l.Fg,{to:"/student/signin"}):null,(0,O.jsx)(v.Z,{theme:S,children:(0,O.jsxs)("div",{className:"SignupMainPage",children:[(0,O.jsx)("img",{className:"universityLogo",src:b,alt:"logo"}),(0,O.jsx)("img",{className:"registrationImage",src:y,alt:"regImage"}),t?(0,O.jsx)(x.Z,{resendOtp:this.callForOtp,verifyotp:this.verifyotp}):this.passwordResetForm(),n?(0,O.jsx)(l.Fg,{to:"/student/signin"}):null]})}),(0,O.jsx)(m.Z,{open:r,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,O.jsx)(h.Z,{onClose:this.handleClose,severity:o,sx:{width:"100%"},children:a})}),(0,O.jsx)(w.Z,{isLoading:s})]})}}]),n}(u.Component),C=P},5627:function(e,t,n){"use strict";var r=n(5671),a=n(3144),o=n(136),s=n(7277),i=n(2791),c=n(5112),u=n(6580),l=n(184),d=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"render",value:function(){var e=this.props.isLoading;return(0,l.jsx)(c.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:e,children:(0,l.jsx)(u.Z,{color:"inherit"})})}}]),n}(i.Component);t.Z=d},4056:function(e,t,n){"use strict";var r=n(885),a=n(1413),o=n(6971),s=n.n(o),i=n(7205),c=n(2791),u=n(184),l=function(e){return(0,u.jsx)(i.Z,(0,a.Z)((0,a.Z)({},e),{},{size:"small",children:"Resend"}))},d=function(e){return(0,u.jsxs)("span",{children:[e," seconds remaining"]})};t.Z=function(e){var t=(0,c.useState)(""),n=(0,r.Z)(t,2),a=n[0],p=n[1];return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"300px",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(to right,#86BFF0,#52FFFF)",padding:"50px",borderRadius:"10px"},children:[(0,u.jsx)(s(),{value:a,onChange:p,autoFocus:!0,OTPLength:4,otpType:"number",disabled:!1}),(0,u.jsx)(o.ResendOTP,{maxTime:"40",renderButton:l,renderTime:d,style:{marginTop:"10px",justifyContent:"space-around",alignItems:"center"},onResendClick:function(){var t=e.resendOtp;t()}}),(0,u.jsx)(i.Z,{variant:"Contained",style:{backgroundColor:"blue",color:"white",margin:"10px"},onClick:function(){(0,e.verifyotp)(a)},children:"Submit otp"})]})}},7012:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(2791),a=n(7462),o=n(8023),s=n(9598),i="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",c=n(184);var u=function(e){var t=e.children,n=e.theme,u=(0,s.Z)(),l=r.useMemo((function(){var e=null===u?n:function(e,t){return"function"===typeof t?t(e):(0,a.Z)({},e,t)}(u,n);return null!=e&&(e[i]=null!==u),e}),[n,u]);return(0,c.jsx)(o.Z.Provider,{value:l,children:t})},l=n(9886),d=n(3459),p={};function f(e){var t=(0,d.Z)();return(0,c.jsx)(l.T.Provider,{value:"object"===typeof t?t:p,children:e.children})}var m=function(e){var t=e.children,n=e.theme;return(0,c.jsx)(u,{theme:n,children:(0,c.jsx)(f,{children:t})})}},6971:function(e,t,n){var r;window,e.exports=(r=n(2791),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/otp-input-react/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.r(t);var s=n(0),i=n.n(s);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=function(e){var t=e.maxTime,n=e.onTimerComplete,r=e.timeInterval,a=e.onResendClick,o=Object(s.useRef)(),i=c(Object(s.useState)(t),2),u=i[0],l=i[1];return Object(s.useEffect)((function(){return o.current&&0===u?(clearTimeout(o.current),n&&n()):o.current=setTimeout((function(){l((function(e){return e-1}))}),r),function(){clearTimeout(o.current)}}),[n,u,r]),{handelResendClick:function(){a&&a(0===u),l(t)},remainingTime:u}};function l(e){var t=e.renderTime,n=e.renderButton,r=e.style,s=e.className,c=o(e,["renderTime","renderButton","style","className"]),l=u(c),d=l.remainingTime,p=l.handelResendClick;return i.a.createElement("div",{className:s||"","data-testid":"otp-resend-root",style:a({display:"flex",justifyContent:"space-between"},r)},t?t(d):i.a.createElement("span",null,d," sec"),n?n({disabled:0!==d,onClick:p,remainingTime:d}):i.a.createElement("button",{disabled:0!==d,onClick:p,type:"button"},"Resend OTP"))}l.defaultProps={maxTime:60,timeInterval:1e3,style:{}};var d=l,p={width:32,height:32,textAlign:"center",marginRight:20},f=i.a.memo((function(e){var t=e.focus,n=e.autoFocus,r=e.disabled,c=e.value,u=e.onInputFocus,l=e.index,d=e.secure,f=e.inputStyles,m=e.otpType,h=o(e,["focus","autoFocus","disabled","value","onInputFocus","index","secure","inputStyles","otpType"]),g=Object(s.useRef)(null),v=Object(s.useRef)(!1);Object(s.useEffect)((function(){n&&t&&g.current.focus()}),[]),Object(s.useEffect)((function(){v.current&&t&&g.current.focus(),v.current=!0}),[t]);var y="text";return d?y="password":"number"===m&&(y="tel"),i.a.createElement("input",Object.assign({style:a({},p,f),type:y,maxLength:"1",ref:g,disabled:r,onFocus:function(e){return u(l,e)},value:c||""},h))})),m=function(e){var t=e.autoFocus,n=e.value,r=e.otpType,a=e.onChange,o=e.OTPLength,i=c(Object(s.useState)(t?0:-1),2),u=i[0],l=i[1],d=function(){return n?n.toString().split(""):[]},p=function(e){var t=e.join("");a(t)},f=function(){!function(e){var t=Math.max(Math.min(o-1,e),0);l(t)}("next"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next")?u+1:u-1)},m=function(e){var t=c(e,1)[0],n=d();n[u]=t,p(n)},h=function(e){switch(r){case"number":return!(e.charCodeAt(0)>57||e.charCodeAt(0)<48);case"alpha":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<65);case"alphanumeric":return!(e.charCodeAt(0)>122||e.charCodeAt(0)<48);default:return!0}};return{activeInput:u,getOtpValue:d,handleOnChange:function(e){h(e.target.value)&&(m(e.target.value),f("next"))},handleOnKeyDown:function(e){switch(e.key){case"Backspace":e.preventDefault(),m(""),f("prev");break;case"Delete":e.preventDefault(),m("");break;case"ArrowLeft":e.preventDefault(),f("prev");break;case"ArrowRight":e.preventDefault(),f("next")}},handelOnInput:function(e){e.target.value.length>1&&(e.preventDefault(),f("next"))},handleOnPaste:function(e,t){e.preventDefault();for(var n=d(),r=e.clipboardData.getData("text/plain").slice(0,o-u).split(""),a=0;a<o;++a)a>=u&&r.length>0&&(n[a]=r.shift());for(var s=[n.length],i=0,c=0;c<n.length;++c)h(n[c])&&(s[i]=n[c],i++);p(s)},onInputFocus:function(e,t){l(e),t.target.select()}}},h=function(e){var t=e.OTPLength,n=e.disabled,r=e.autoFocus,o=e.value,c=void 0===o?"":o,u=e.onChange,l=e.otpType,d=e.secure,p=e.className,h=e.inputClassName,g=e.inputStyles,v=e.style,y=e.placeholder,b=m({autoFocus:r,value:c,otpType:l,onChange:u,OTPLength:t}),x=b.activeInput,w=b.getOtpValue,j=b.handleOnChange,O=b.handleOnKeyDown,S=b.handelOnInput,P=b.handleOnPaste,C=b.onInputFocus,E=Object(s.useMemo)((function(){for(var e=w(),a=[],o=0;o<t;o++)a.push(i.a.createElement(f,{className:h,inputStyles:g,key:o,focus:x===o,value:e[o],onChange:j,onKeyDown:O,onInput:S,onPaste:P,onInputFocus:C,index:o,disabled:n,autoFocus:r,secure:d,"data-testid":"input",otpType:l,placeholder:y&&y[o]}));return a}),[w,t,h,g,x,j,O,S,P,C,n,r,d,l,y]);return i.a.createElement("div",{style:a({display:"flex"},v),className:"".concat(p),"data-testid":"otp-input-root"},E)};h.defaultProps={className:"",inputClassName:"",OTPLength:4,onChange:function(){},disabled:!1,secure:!1,autoFocus:!1,value:"",otpType:"any",inputStyles:{},style:{},placeholder:void 0};var g=h;n.d(t,"ResendOTP",(function(){return d})),n.d(t,"default",(function(){return g}))}]))},8422:function(e,t,n){"use strict";e.exports=n.p+"static/media/logopng.18cff690cf784ed137b4.png"},1677:function(e,t,n){"use strict";e.exports=n.p+"static/media/registrationt.feec7b6de1ca8b8c1f81.png"},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=516.ce7aa65a.chunk.js.map