"use strict";(self.webpackChunkodrequest=self.webpackChunkodrequest||[]).push([[640],{7640:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var a=r(4165),n=r(5861),s=r(5671),o=r(3144),i=r(136),l=r(7277),d=r(2791),c=r(7689),u=r(6015),m=r(5017),p=r(7205),f=r(1647),g=r(1508),h=r(4360),b=r(7012),x=r(2570),E=r.n(x),v=r(8977),S=r(1677),w=r(8422),y=r(4056),N=r(5627),Z=r(2388),j=r(184),C=(0,h.Z)({palette:{regTextField:{main:"#1173ef",contrastText:"#fff"},success:{main:"#11cb5f",contrastText:"#ffffff"},reset:{main:"#FFE6CC",contrastText:"#D46300"}}}),k=function(e){(0,i.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).state={name:"",fatherName:"",email:"",enrollmentNo:"",dob:"",mobileNo:"",password:"",confirmPassword:"",nameErr:!1,fatherNameErr:!1,emailErr:!1,enrollmentNoErr:!1,dobErr:!1,mobileNoErr:!1,passwordErr:!1,confirmPasswordErr:!1,passwordMatched:!0,allDataEntered:!1,otpSent:!1,otpVerifiedSuccessfully:!1,backErr:!1,backErrMsg:"",severity:"",alreadyRegistered:!1,isLoading:!1},e.navigateToSignIn=function(){setTimeout((function(){e.setState({otpVerifiedSuccessfully:!0})}),3e3)},e.updateEmail=function(t){E().isEmail(t.target.value)?e.setState({email:t.target.value,emailErr:!1}):e.setState({email:t.target.value,emailErr:!0})},e.updateMobilenumber=function(t){E().isMobilePhone(t.target.value,"en-IN")?e.setState({mobileNo:t.target.value,mobileNoErr:!1}):e.setState({mobileNo:t.target.value,mobileNoErr:!0})},e.updateDob=function(t){e.setState({dob:t.target.value})},e.reset=function(){e.setState({name:"",fatherName:"",email:"",enrollmentNo:"",dob:"",mobileNo:"",password:"",confirmPassword:"",nameErr:!1,fatherNameErr:!1,emailErr:!1,enrollmentNoErr:!1,dobErr:!1,mobileNoErr:!1,passwordErr:!1,confirmPasswordErr:!1,passwordMatched:!0})},e.callForOtp=(0,n.Z)((0,a.Z)().mark((function t(){var r,n,s,o,i,l,d,c,u,m;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,n=r.name,s=r.fatherName,o=r.email,i=r.dob,l=r.mobileNo,d=r.password,c=r.enrollmentNo,t.prev=1,u={url:"".concat("https://20.235.87.10/capis/","account/register/"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},data:{name:n,father_name:s,email:o,enrollment:c,mobile:l,password:d,confirm_password:d,date_of_birth:(0,v.Z)(new Date(i),"dd/MM/yyyy")}},t.next=5,(0,Z.Z)(u);case 5:m=t.sent,console.log(m),e.setState({otpSent:!0,isLoading:!1}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.setState({backErr:!0,backErrMsg:t.t0.msg,isLoading:!1});case 13:case"end":return t.stop()}}),t,null,[[1,10]])}))),e.onSubmit=function(){var t=e.state,r=t.name,a=t.fatherName,n=t.email,s=t.enrollmentNo,o=t.dob,i=t.mobileNo,l=t.emailErr,d=t.mobileNoErr,c=t.password,u=t.confirmPassword;e.setState({isLoading:!0}),""===r&&e.setState({nameErr:!0}),""!==r&&e.setState({nameErr:!1}),""===a&&e.setState({fatherNameErr:!0}),""!==a&&e.setState({fatherNameErr:!1}),""===n&&e.setState({emailErr:!0}),""!==n&&e.setState({emailErr:!1}),""===s&&e.setState({enrollmentNoErr:!0}),""!==s&&e.setState({enrollmentNoErr:!1}),""===o&&e.setState({dobErr:!0}),""!==o&&e.setState({dobErr:!1}),""===i&&e.setState({mobileNoErr:!0}),""!==i&&!1===d&&e.setState({mobileNoErr:!1}),""===c&&e.setState({passwordErr:!0}),""!==c&&e.setState({passwordErr:!1}),""===u&&e.setState({confirmPasswordErr:!0}),""!==u&&e.setState({confirmPasswordErr:!1}),c===u&&e.setState({passwordMatched:!0}),c!==u&&e.setState({passwordMatched:!1}),""!==r&&""!==a&&""!==s&&!1===l&&""!==o&&!1===d&&c===u&&""!==c&&""!==u&&e.setState({allDataEntered:!0},e.callForOtp)},e.registerForm=function(){var t=e.state,r=t.name,a=t.fatherName,n=t.email,s=t.enrollmentNo,o=t.dob,i=t.mobileNo,l=t.nameErr,d=t.fatherNameErr,c=t.emailErr,f=t.enrollmentNoErr,g=t.dobErr,h=t.mobileNoErr,b=t.password,x=t.confirmPassword,E=t.passwordErr,v=t.confirmPasswordErr,S=t.passwordMatched;return(0,j.jsxs)(u.Z,{className:"registrationForm",children:[(0,j.jsx)("h1",{style:{padding:"10px"},children:"Please Register"}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-student-name",label:"Name",style:{margin:"10px",width:"90%"},onChange:function(t){return e.setState({name:t.target.value.toUpperCase()})},value:r,error:l}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-father-name",label:"Father Name",style:{margin:"10px",width:"90%"},onChange:function(t){return e.setState({fatherName:t.target.value.toUpperCase()})},value:a,error:d}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-student-email",label:"Email id",style:{margin:"10px",width:"90%"},onChange:e.updateEmail,value:n,error:c}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-father-enroll",label:"Enrollment Number",style:{margin:"10px",width:"90%"},onChange:function(t){return e.setState({enrollmentNo:t.target.value.toUpperCase()})},value:s,error:f}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-student-dob",label:"Date of Birth",style:{margin:"10px",width:"90%"},type:"date",onChange:e.updateDob,value:o,error:g,focused:!0}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-student-mobile",label:"Mobile",style:{margin:"10px",width:"90%"},type:"number",value:i,onChange:e.updateMobilenumber,error:h}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-student-password",label:"Password",style:{margin:"10px",width:"90%"},value:b,onChange:function(t){return e.setState({password:t.target.value})},error:E}),(0,j.jsx)(m.Z,{required:!0,size:"small",id:"reg-student-ConfirmPassword",label:"Confirm Password",style:{margin:"10px",width:"90%"},value:x,onChange:function(t){return e.setState({confirmPassword:t.target.value})},error:v}),S?null:(0,j.jsx)("p",{children:"Passwords not Matched"}),(0,j.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[(0,j.jsx)(p.Z,{onClick:e.reset,variant:"contained",color:"reset",children:"Reset"}),(0,j.jsx)(p.Z,{onClick:e.onSubmit,variant:"contained",color:"success",children:"Register"})]}),(0,j.jsx)(p.Z,{onClick:function(){return e.setState({alreadyRegistered:!0})},children:"Registered User??? Click me to sign in"})]})},e.verifyotp=function(){var t=(0,n.Z)((0,a.Z)().mark((function t(r){var n,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.state.enrollmentNo,s={url:"".concat("https://20.235.87.10/capis/","account/verify/"),method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},data:{enrollment:n,otp:r}},t.next=5,(0,Z.Z)(s);case 5:200===t.sent.status&&e.setState({backErr:!0,backErrMsg:"Registered Successfully. Please login to Continue",severity:"success"},e.navigateToSignIn),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),403===t.t0.response.request.status?e.setState({backErr:!0,backErrMsg:t.t0.response.data.detail.toUpperCase(),severity:"error"}):e.setState({backErr:!0,backErrMsg:t.t0.msg});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),e.handleClose=function(){e.setState({backErr:!1})},e}return(0,o.Z)(r,[{key:"render",value:function(){var e=this.state,t=e.otpSent,r=e.otpVerifiedSuccessfully,a=e.backErr,n=e.backErrMsg,s=e.alreadyRegistered,o=e.severity,i=e.isLoading;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(b.Z,{theme:C,children:(0,j.jsxs)("div",{className:"SignupMainPage",children:[(0,j.jsx)("img",{className:"universityLogo",src:w,alt:"logo"}),(0,j.jsx)("img",{className:"registrationImage",src:S,alt:"regImage"}),t?(0,j.jsx)(y.Z,{resendOtp:this.callForOtp,verifyotp:this.verifyotp}):this.registerForm(),r?(0,j.jsx)(c.Fg,{to:"/student/signin"}):null,s?(0,j.jsx)(c.Fg,{to:"/student/signin"}):null]})}),(0,j.jsx)(f.Z,{open:a,autoHideDuration:6e3,onClose:this.handleClose,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,j.jsx)(g.Z,{onClose:this.handleClose,severity:o,sx:{width:"100%"},children:n})}),(0,j.jsx)(N.Z,{isLoading:i})]})}}]),r}(d.Component),P=k},5627:function(e,t,r){var a=r(5671),n=r(3144),s=r(136),o=r(7277),i=r(2791),l=r(5112),d=r(6580),c=r(184),u=function(e){(0,s.Z)(r,e);var t=(0,o.Z)(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,n.Z)(r,[{key:"render",value:function(){var e=this.props.isLoading;return(0,c.jsx)(l.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:e,children:(0,c.jsx)(d.Z,{color:"inherit"})})}}]),r}(i.Component);t.Z=u},4056:function(e,t,r){var a=r(885),n=r(1413),s=r(6971),o=r.n(s),i=r(7205),l=r(2791),d=r(184),c=function(e){return(0,d.jsx)(i.Z,(0,n.Z)((0,n.Z)({},e),{},{size:"small",children:"Resend"}))},u=function(e){return(0,d.jsxs)("span",{children:[e," seconds remaining"]})};t.Z=function(e){var t=(0,l.useState)(""),r=(0,a.Z)(t,2),n=r[0],m=r[1];return(0,d.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"300px",justifyContent:"center",alignItems:"center",backgroundImage:"linear-gradient(to right,#86BFF0,#52FFFF)",padding:"50px",borderRadius:"10px"},children:[(0,d.jsx)(o(),{value:n,onChange:m,autoFocus:!0,OTPLength:4,otpType:"number",disabled:!1}),(0,d.jsx)(s.ResendOTP,{maxTime:"40",renderButton:c,renderTime:u,style:{marginTop:"10px",justifyContent:"space-around",alignItems:"center"},onResendClick:function(){var t=e.resendOtp;t()}}),(0,d.jsx)(i.Z,{variant:"Contained",style:{backgroundColor:"blue",color:"white",margin:"10px"},onClick:function(){(0,e.verifyotp)(n)},children:"Submit otp"})]})}},8422:function(e,t,r){e.exports=r.p+"static/media/logopng.18cff690cf784ed137b4.png"},1677:function(e,t,r){e.exports=r.p+"static/media/registrationt.feec7b6de1ca8b8c1f81.png"}}]);
//# sourceMappingURL=640.d9918e20.chunk.js.map